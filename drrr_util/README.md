# **DrrrUtil**
<br>
#### <u>**何だこれは？**</u>
ヂュラララチャットの機能を増やすユーザースクリプトです。
<br>
#### <u>**現在(v0.3.6)の機能:**</u>
- 任意の言葉を通知（たとえば、自分の名前）
- 違うタブにいるときにｄｒｒｒのタブに未読メッセージ数を表示
- 投稿のアイコンをホーバーすると投稿時間やユーザーID、キック、バンボタンを表示
- 受信と送信エベントをフックすることでボットの作成が可能
- メッセージ、名前、ID, IPに反応する荒らし対策システム（自動キック、バン）

### <u>**画像**</u>

#### 未読メッセージ
![未読メッセージ](https://i.imgsafe.org/8e/8e3d93c268.png "未読メッセージ")
<br>
#### メッセージ通知
![メッセージ通知](https://i.imgsafe.org/8e/8e3d93c492.png "メッセージ通知")
<br>
#### ユーザーメニュ
![ユーザーメニュ](https://i.imgsafe.org/8e/8e44c6d9f4.png "ユーザーメニュ")
<br>
#### 簡単な設定メニュ
![簡単な設定メニュ](https://i.imgsafe.org/b4/b45cff3f4a.png "簡単な設定メニュ")
<br>
#### <u>**Changelog**</u>
##### - 0.3.7
  - アイコンクリックでのコメント欄名前コピーの動作を修復
  - ユーザーメニュのとアイコンの隙間でホーバーイベントが失われるバグを修復

##### - 0.3.6
  - 荒らし対策のトリガーが保存出来なかったバグを修復

##### - 0.3.4
  - バグフィックス

##### - 0.3.3
  - 初期設定に戻すボタンを追加

##### - 0.3.2
  - トリガー追加の仕方が分かりやすくなるように新デフォルトトリガーを追加
  - ユーザーアイコンをクリックした後コメント欄がfocusを受ける仕様

##### - 0.3.1
  - Autobanの設定がちゃんと保存されていなかったエラーを修復

##### - 0.3.0
  - 設定メニュを実装
  - Configクラスを実装
  - ブラウザのlocalstorageに設定データを保存

##### - 0.2.3
  - アイコン、ユーザーメニュのクリックイベントを修復

##### - 0.2.2
  - 荒らし対策にencipを追加

<br>
#### <u>**設定:**</u>
普通のユーザーならページ内の設定メニュを変更するだけでいいけど、
パワーユーザーのためにCONFIGクラスの説明をします:
<br>
#### フラグ
有効にしたい場合はtrue、無効はfalseに変更してください
- is_hover_menu: ユーザーメニュの表示
- is_autoban: 荒らし対策
- is_notify: メッセージ通知
- is_talk_info: メッセージのログ
- is_update_unread: タブタイトルの未読表示
- is_modify_send: 送信時のフック
- theme: デフォルトテーマ

#### トリガーワード
半角コンマで分別

- notify_triggers: 通知してほしい言葉を追加してください
- autoban: kick（キック）とban（アクセス禁止）の二つの部分に分かれています
  - msg: 禁止にしたい言葉
  - name: 禁止にしたい名前
  - ip: 禁止にしたいユーザーID

<br>
#### <u>**ボット作成について**</u>
- 新メッセージハンドル関数: handle_talks
- 新ユーザーハンドル関数: handle_users
- 送信前フックコールバック: on_send

後はRoomの関数を読むなりTalk, Userクラスのメソッドを読むなり^^
元コードの方が読みやすいのでレポジトリーのdrrr_util.tsの参照をおすすめします
<br>
#### <u>**レポジトリー**</u>
https://github.com/nishinishi9999/utils/blob/master/drrr_util
<br>
#### <u>**作者**</u>
nishinishi9999 AKA 豆乳 (nishinishi9999 at gmail dot com)
<br><br>